<@pageContainer>
    <@pageColumn>
        <@pageHeader title='#i18n{menus.manage_custom_menus.pageTitle}'>
        </@pageHeader>

		 <@alert color='warning' title='#i18n{portal.system.manage_caches.cautionTitle}' iconTitle='exclamation-triangle'>
         	#i18n{menus.manage_custom_menus.warning.pageCacheService}
         </@alert>

        <@messages errors=errors />
        <@messages infos=infos />
                
         <@h class='row mt-5'>#i18n{menus.manage_custom_menus.title.nativeMenu}</@h>
	        <@table headBody=true>
	            <@tr>
	                <@th>#i18n{menus.manage_custom_menus.columnName}</@th>
	                <@th>
	                    #i18n{menus.manage_custom_menus.columnType}
	                    <i class="ti ti-info-circle" data-toggle="tooltip" title='#i18n{menus.manage_custom_menus.helpInfoNativeType}'></i>
	                </@th>
	                <@th>
	                    #i18n{menus.manage_custom_menus.columnBookmark}
	                    <i class="ti ti-info-circle" data-toggle="tooltip" title='#i18n{menus.manage_custom_menus.helpInfoBookmark}'></i>
	                </@th>
	                <@th>#i18n{menus.manage_custom_menus.columnDescription}</@th>
	                <@th>#i18n{menus.manage_custom_menus.columnActions}</@th>
	            </@tr>
	            <@tableHeadBodySeparator />
	            <@tr>
	                <@td>#i18n{menus.manage_custom_menus.constant.name.menuMain}</@td>
	                <@td>#i18n{menus.manage_custom_menus.constant.type.nativeMenu}</@td>
	                <@td>#i18n{menus.manage_custom_menus.constant.bookmark.menuMain}</@td>
	                <@td>#i18n{menus.manage_custom_menus.constant.description.menuMain}</@td>
	                <@td>
	                    <@tform method='post' action='jsp/admin/plugins/menus/ManageCustomMenus.jsp?action=doModifyNativeMenuSettings' id='form-depth-main'>
	                        <@input type='hidden' name='menu_type' value='menuMain' />
	                        <@select name='depth_value' default_value='${depth_menu_main!"1"}' items=depth_options_main params="onchange='this.form.submit();'" />
	                    </@tform>
	                </@td>
	           		</@tr>
	           	
	           	<@tr>
	                <@td>#i18n{menus.manage_custom_menus.constant.name.menuTree}</@td>
	                <@td>#i18n{menus.manage_custom_menus.constant.type.nativeMenu}</@td>
	                <@td>#i18n{menus.manage_custom_menus.constant.bookmark.menuTree}</@td>
	                <@td>#i18n{menus.manage_custom_menus.constant.description.menuTree}</@td>
	                 <@td>
	                    <@tform method='post' action='jsp/admin/plugins/menus/ManageCustomMenus.jsp?action=doModifyNativeMenuSettings' id='form-depth-tree'>
	                        <@input type='hidden' name='menu_type' value='menuTree' />
	                        <@select name='depth_value' default_value='${depth_menu_tree!"0"}' items=depth_options_tree params="onchange='this.form.submit();'" />
	                    </@tform>
	                 </@td>
	            	</@tr>
	            <@tr>
	                <@td>#i18n{menus.manage_custom_menus.constant.name.menuTreeAllPages}</@td>
	                <@td>#i18n{menus.manage_custom_menus.constant.type.nativeMenu}</@td>
	                <@td>#i18n{menus.manage_custom_menus.constant.bookmark.menuTreeAllPages}</@td>
	                <@td>#i18n{menus.manage_custom_menus.constant.description.menuTreeAllPages}</@td>
	                <@td>
	                    <@tform method='post' action='jsp/admin/plugins/menus/ManageCustomMenus.jsp?action=doModifyNativeMenuSettings' id='form-depth-all-pages'>
	                        <@input type='hidden' name='menu_type' value='menuTreeAllPages' />
	                        <@select name='depth_value' default_value='${depth_menu_tree_all_pages!"2"}' items=depth_options_tree params="onchange='this.form.submit();'" />
	                    </@tform>
	                </@td>
	            </@tr>
        </@table>
     
        <@div class='row mt-5'>
        <@div class='col-9'>
        <@h class='row mt-3'>#i18n{menus.manage_custom_menus.title.customMenu}</@h>
        </@div>
        <@div class='col-3 text-end'>
        <@offcanvas size='50' targetUrl='jsp/admin/plugins/menus/ManageCustomMenus.jsp?view=createCustomMenu' targetElement='#create_custom_menu' redirectForm=false id='custom-menu-create' title='#i18n{menus.manage_custom_menus.buttonCreateMenu}' position='end' btnTitle='#i18n{menus.manage_custom_menus.buttonCreateMenu}' btnIcon='plus' />
		</@div>
		</@div>
		<@paginationAdmin paginator=paginator combo=1 />
	        <@table headBody=true>
	        	            <@tr>
	                <@th>#i18n{menus.manage_custom_menus.columnName}</@th>
	                <@th>
	                    #i18n{menus.manage_custom_menus.columnType}
	                    <i class="ti ti-info-circle" data-toggle="tooltip" title='#i18n{menus.manage_custom_menus.helpInfoType}'></i>
	                </@th>
	                <@th>
	                    #i18n{menus.manage_custom_menus.columnBookmark}
	                    <i class="ti ti-info-circle" data-toggle="tooltip" title='#i18n{menus.manage_custom_menus.helpInfoBookmark}'></i>
	                </@th>
	                <@th>#i18n{menus.manage_custom_menus.columnDescription}</@th>
	                <@th>#i18n{menus.manage_custom_menus.columnActions}</@th>
	            </@tr>
	            <@tableHeadBodySeparator />
	            <#if custom_menus_list??>
	                <#list custom_menus_list as menu>
	                    <@tr>
	                        <@td>${menu.name}</@td>
	                        <@td>${menu.type}</@td>
	                        <@td>${menu.bookmark!''}</@td>
	                        <@td>${menu.description}</@td>
	                        <@td>
	                            <@offcanvas size='50' targetUrl='jsp/admin/plugins/menus/ManageCustomMenus.jsp?view=modifyCustomMenu&id=${menu.id}' targetElement='#modify_custom_menu' redirectForm=false id='custom-menu-modify-${menu.id}' title='#i18n{menus.manage_custom_menus.buttonModifyMenu}' position='end' btnIcon='edit' btnColor='primary' hideTitle=['all'] btnClass='btn-sm' />
	                            <@aButton href='jsp/admin/plugins/menus/ManageCustomMenus.jsp?view=removeCustomMenu&id=${menu.id}' buttonIcon='trash' color='danger' hideTitle=['all'] size='sm' />
	                        </@td>
	                    </@tr>
	                </#list>
	            </#if>
               </@table>
	           <@paginationAdmin paginator=paginator combo=1 />
    </@pageColumn>
</@pageContainer>